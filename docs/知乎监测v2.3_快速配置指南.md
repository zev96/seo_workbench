# 知乎监测 v2.3 - 快速配置指南

> **⏱️ 预计配置时间**: 5 分钟  
> **🎯 目标**: 快速完成 ChromeDriver 配置并开始监测

---

## 📋 配置清单

- [ ] 步骤1：检查本机 Chrome 版本
- [ ] 步骤2：下载对应版本的 ChromeDriver
- [ ] 步骤3：在软件中配置 ChromeDriver 路径
- [ ] 步骤4：选择反检测强度
- [ ] 步骤5：配置 Cookie（可选）
- [ ] 步骤6：测试监测

---

## 🚀 步骤 1：检查本机 Chrome 版本

### 操作步骤

1. 打开 Chrome 浏览器
2. 在地址栏输入：`chrome://version/`
3. 按回车
4. 查看"Google Chrome"后的版本号

### 示例

```
Google Chrome: 120.0.6099.199 (正式版本) (64 位)
```

👉 **记住主版本号**：`120`

---

## 📥 步骤 2：下载 ChromeDriver

### 下载地址

🔗 **官方下载**：https://googlechromelabs.github.io/chrome-for-testing/

### 操作步骤

1. 访问上述网站
2. 按 `Ctrl + F` 搜索你的 Chrome 版本号（如 `120.`）
3. 找到 `chromedriver` 一行
4. 点击 `win64` 下载链接（Windows 64位系统）
5. 下载完成后解压到任意目录

### 推荐目录

```
E:\chromedriver\chromedriver.exe
```

或

```
C:\Tools\chromedriver\chromedriver.exe
```

---

## ⚙️ 步骤 3：在软件中配置 ChromeDriver 路径

### 操作步骤

1. 打开软件，进入"知乎监测"页面
2. 点击右上角的"设置"按钮（⚙️ 图标）
3. 在弹出的"知乎监测设置"对话框中找到"ChromeDriver 配置"区域
4. 点击"浏览..."按钮
5. 选择刚才解压的 `chromedriver.exe` 文件
6. 点击"保存设置"

### 示例配置

```
ChromeDriver 路径: E:\chromedriver\chromedriver.exe
```

---

## 🎚️ 步骤 4：选择反检测强度

### 推荐配置

| 使用场景 | 选择 |
|---------|------|
| 🆕 首次使用 | **中（推荐）** |
| 📅 日常监测 | **中（推荐）** |
| ⚠️ 频繁被封 | **高（最稳定）** |
| 🚀 快速测试 | **低（速度快）** |

### 操作步骤

1. 在"设置"对话框中找到"防封策略"区域
2. 找到"反检测强度"下拉框
3. 选择"**中（推荐）**"
4. 点击"保存设置"

---

## 🍪 步骤 5：配置 Cookie（可选但推荐）

### 为什么需要 Cookie？

- ✅ 提高监测成功率
- ✅ 访问需要登录可见的回答
- ✅ 降低风控触发概率

### 获取 Cookie（3分钟）

#### 方法 A：使用 Chrome 开发者工具（推荐）

1. 打开 Chrome 浏览器
2. 访问 `https://www.zhihu.com` 并登录
3. 按 `F12` 打开开发者工具
4. 切换到 `Network`（网络）标签
5. 按 `F5` 刷新页面
6. 在左侧请求列表中选择任意请求（如 `www.zhihu.com`）
7. 右侧找到 `Request Headers`（请求标头）
8. 找到 `Cookie:` 一行
9. 复制整个 Cookie 字符串（从第一个字符到最后一个字符）

#### Cookie 示例（不要直接使用）

```
z_c0=2|1:0|10:1234567890|4:z_c0|80:MS4xYWJjZGVm...；SESSIONID=xxxxx; d_c0=xxxxx; cookie_token=xxxxx
```

### 配置到软件

1. 在"设置"对话框中找到"Cookie 配置"区域
2. 在文本框中粘贴刚才复制的 Cookie
3. 点击"保存设置"

---

## ✅ 步骤 6：测试监测

### 操作步骤

1. 回到"知乎监测"主页面
2. 点击"添加监控"按钮
3. 输入一个知乎问题链接（测试用）

### 测试链接（示例）

```
https://www.zhihu.com/question/123456789
```

4. 选择监测品牌
5. 设置检测范围（如 `Top 20`）
6. 点击"添加"
7. 勾选刚添加的任务
8. 点击"立即检测"

### 预期结果

- ✅ 控制台输出日志：`🎯 反检测强度: medium`
- ✅ 控制台输出：`✅ undetected-chromedriver 初始化成功`
- ✅ 浏览器自动打开（或后台运行）
- ✅ 页面自动滚动、鼠标移动
- ✅ 检测完成，状态显示"✅ 在榜"或"❌ 未发现"

---

## 🎉 配置完成！

恭喜！你已经完成了所有配置。现在可以开始使用知乎监测功能了。

---

## ⚠️ 常见问题

### ❓ Q1: 提示"未配置 ChromeDriver 路径"

**原因**：路径配置有误或未保存

**解决方案**：
1. 重新打开"设置"
2. 检查 ChromeDriver 路径是否正确
3. 确认点击了"保存设置"
4. 重启应用

---

### ❓ Q2: 出现"版本不匹配"错误

**错误提示**：
```
session not created: This version of ChromeDriver only supports Chrome version 120
```

**原因**：ChromeDriver 版本与 Chrome 浏览器版本不一致

**解决方案**：
1. 重新检查 Chrome 版本（`chrome://version/`）
2. 重新下载**对应版本**的 ChromeDriver
3. 更新软件中的 ChromeDriver 路径

---

### ❓ Q3: 监测时出现 403 错误

**原因**：
- Cookie 未配置或已失效
- 反检测强度不够
- IP 被暂时限制

**解决方案**：
1. 配置或更新 Cookie
2. 将反检测强度调整为"**高**"
3. 减少任务数量（一次只监测 5-10 个）
4. 增加请求间隔（改为 5-10秒）
5. 换个时间段重试（避开高峰期）

---

### ❓ Q4: ChromeDriver 下载速度慢

**原因**：Google 服务器在国外

**解决方案**：
- 使用镜像站下载（搜索"ChromeDriver 镜像"）
- 或者使用 VPN/代理

---

### ❓ Q5: 不知道如何使用开发者工具获取 Cookie

**简化方法**：

1. 登录知乎
2. 按 `F12`
3. 点击顶部的 `Network` 标签
4. 按 `F5` 刷新
5. 点击左侧第一个请求（通常是 `www.zhihu.com`）
6. 右侧向下滚动找到 `Request Headers`
7. 找到 `Cookie:` 开头的一行
8. 双击选中整行内容
9. 按 `Ctrl + C` 复制
10. 粘贴到软件的 Cookie 输入框

---

## 📞 需要帮助？

如果遇到其他问题，请查看完整文档：

📚 **《知乎监测v2.3_反爬优化更新说明.md》**

---

**更新时间**: 2024-12-03  
**版本**: v2.3  
**预计完成时间**: 5 分钟  

